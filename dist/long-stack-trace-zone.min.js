!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},e="\n",n={},r="STACKTRACE TRACKING",a="__SEP_TAG__",c=a+"@[native]",o=function(){return function(){this.error=u(),this.timestamp=new Date}}();function i(){return new Error(r)}function f(){try{throw i()}catch(t){return t}}var s=i(),_=f(),u=s.stack?i:_.stack?f:i;function l(t){return t.stack?t.stack.split(e):[]}function h(t,e){for(var r=l(e),a=0;a<r.length;a++){var c=r[a];n.hasOwnProperty(c)||t.push(r[a])}}function p(){return Error.stackTraceLimit>0}Zone.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,getLongStackTrace:function(t){if(t){var n=t[Zone.__symbol__("currentTaskTrace")];return n?function(t,n){var r=[n?n.trim():""];if(t)for(var o=(new Date).getTime(),i=0;i<t.length;i++){var f=t[i],s=f.timestamp,_="____________________Elapsed "+(o-s.getTime())+" ms; At: "+s;_=_.replace(/[^\w\d]/g,"_"),r.push(c.replace(a,_)),h(r,f.error),o=s.getTime()}return r.join(e)}(n,t.stack):t.stack}},onScheduleTask:function(e,n,r,a){if(p()){var c=Zone.currentTask,i=c&&c.data&&c.data.__creationTrace__||[];(i=[new o].concat(i)).length>this.longStackTraceLimit&&(i.length=this.longStackTraceLimit),a.data||(a.data={}),"eventTask"===a.type&&(a.data=t({},a.data)),a.data.__creationTrace__=i}return e.scheduleTask(r,a)}},function(){if(p()){var t=[];!function t(e,n){n>0&&(e.push(l((new o).error)),t(e,n-1))}(t,2);for(var e=t[0],i=t[1],f=0;f<e.length;f++)if(-1==(_=e[f]).indexOf(r)){var s=_.match(/^\s*at\s+/);if(s){c=s[0]+a+" (http://localhost)";break}}for(f=0;f<e.length;f++){var _;if((_=e[f])!==i[f])break;n[_]=!0}}}()});